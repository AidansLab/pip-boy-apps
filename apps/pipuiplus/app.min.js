function PipUIPlus(){function j(){g.clear(),g.setFontMonofonto28(),g.setColor(f),g.setFontAlign(0,-1),g.drawString(q,i,10),g.setFontMonofonto18(),g.setColor(h),g.drawString('Options Menu v'+r,i,45);const j=c*b;const k=e.slice(j,j+b);const l=30;g.setFontMonofonto18().setFontAlign(-1,-1),k.forEach((c,e)=>{const i=80+e*l;const j=50;const k=d[c]?'X':' ';let b=`[ ${k} ] `;switch(c){case'enableSpecialTab':{b+='Enable STATS > SPECIAL tab';break}case'enablePerksTab':{b+='Enable STATS > PERKS tab';break}case'enableRamScan':{b+='Enable RAM Scan (bottom right of OS)';break}case'hideCogIcon':{b+='Hide Cog Icon (top left of OS)';break}case'hideHolotapeIcon':{b+='Hide Holotape Icon (top right of OS)';break}default:{b+=c.charAt(0).toUpperCase()+c.slice(1).replace(/([A-Z])/g,' $1');break}}e===a?g.setColor(f):g.setColor(h),g.drawString(b,j,i)}),g.setFontMonofonto16(),g.setColor(h),g.setFontAlign(0,-1),g.drawString('Press power button to exit',i,t-75)}function z(b){let a=Date.now();if(a-n<y)return;n=a,b===0?D():F(b>0?-1:1)}function A(){o(),bC.clear(1).flip(),E.reboot()}function B(){try{d=JSON.parse(require('fs').readFileSync(l))}catch(a){print('Error reading options:',a),p()}}function o(){Pip.removeAllListeners(m),Pip.removeAllListeners(v),Pip.removeAllListeners(w),Pip.removeAllListeners(x)}function C(){Pip.on(m,z)}function D(){const f=e[c*b+a];if(!f)return;d[f]=!d[f],f==='enableRamScan'&&(global.ui.enableRamScan=d[f]),p(),j()}function p(){require('fs').writeFile(l,JSON.stringify(d))}function F(h){const d=c*b;const f=e.slice(d,d+b).length;const g=Math.floor((e.length-1)/b);a+=h,a<0?c>0?(c--,a=b-1):a=0:a>=f&&(c<g?(c++,a=0):a=f-1),j()}const k={};const q='Pip UI+';const r='3.0.0';const l='USER/PIP_UI_PLUS/options.json';const f=g.theme.fg;const s='#000000';const h=g.blendColor(s,f,.5);const t=g.getHeight();const u=g.getWidth();const i=u/2;const m='knob1';const v='knob2';const w='torch';const x='audioStopped';const y=30;let n=0;const b=5;let c=0;let a=0;let d={enableSpecialTab:!0,enablePerksTab:!0,enableRamScan:!0,hideCogIcon:!0,hideHolotapeIcon:!0};const e=Object.keys(d);return k.run=function(){bC.clear(),global.ui.enableRamScan=!1,o(),C(),B(),j(),setWatch(()=>A(),BTN_POWER,{debounce:50,edge:'rising',repeat:!0})},k}PipUIPlus().run()