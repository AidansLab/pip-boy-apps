function specialSubmenu(){global.ui.enableSpecialTab&&eval(fs.readFile('USER_BOOT/PIP_UI_PLUS/Special.min.js'))}function perksSubmenu(){global.ui.enablePerksTab&&eval(fs.readFile('USER_BOOT/PIP_UI_PLUS/Perks.min.js'))}function readdirSafely(a){try{return fs.readdir(a).filter(a=>a!='.'&&a!='..')}catch(a){return[]}}function deleteSafely(a){try{fs.unlink(a)}catch(a){}}function deleteRecursively(a){readdirSafely(a).forEach(b=>deleteRecursively(a+'/'+b)),deleteSafely(a)}function alter(a,d,e){const c={};const b=Object.entries(a);for(let f=0;f<b.length;f++){const g=b[f][0];const i=b[f][1];if(c[g])continue;delete a[g],a[d[g]||g]=i;const h=e[g];for(const f in h)delete a[f],a[f]=h[f],c[f]=!0}}if(global.ui===undefined)try{global.ui=JSON.parse(require('fs').readFileSync('USER/PIP_UI_PLUS/options.json'))}catch(a){print('Error reading options:',a),global.ui={},global.ui.enableSpecialTab=!1,global.ui.enablePerksTab=!1}deleteRecursively('USER_BOOT/PipUiPlus'),deleteSafely('USER_BOOT/PipUiPlusLoader.js');const statusProperties={};global.ui.enableSpecialTab&&(statusProperties.SPECIAL=specialSubmenu),global.ui.enablePerksTab&&(statusProperties.PERKS=perksSubmenu);const renameMap=global.ui.enableSpecialTab&&global.ui.enablePerksTab?{CONNECT:'CONN',DIAGNOSTICS:'DIAG'}:{};alter(MODEINFO[MODE.STAT].submenu,renameMap,{STATUS:statusProperties})